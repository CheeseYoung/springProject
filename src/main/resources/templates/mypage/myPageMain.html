<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>마이 페이지 메인</title>
</head>
<body th:align="center">
	<div class="d-flex" id="wrapper">
		<!-- Page content wrapper-->
		<div id="page-content-wrapper">
			<div th:insert="~{fragment/header :: header}"></div>
			<!-- Page content-->
			<div class="container-fluid">
				<h4 class="mt-4">
					<span th:text="${userPage.nickName}" style="font-weight: bold">id</span>님의
					마이페이지
				</h4>
				<br>
				<h5>&nbsp; 🛍️ 최근 업로드한 상품</h5>
				<div id="mypage-main-view">
					<div th:if="${productList.empty}">
						<p>업로드한 상품이 없습니다.</p>
					</div>
					<div class="card" th:each="product, iterStat : ${productList}"
						th:if="${iterStat.index < 2}">
						<div class="card-img-square">
							<a th:href="@{/product/getProduct(pNo=${product.pNo})}"><img
								th:src="@{${product.upload}}" class="card-img-top" alt="..."
								onerror="this.src='https://buly.kr/9BSKdMj'"></a>
						</div>
						<div class="card-body">
							<h5 class="card-title" th:text="${product.title}"></h5>
							<h5 class="card-text" th:text="${product.price}">원</h5>
							<p class="card-text" th:text="${product.pCategory}"></p>
							<a href="#" class="btn btn-secondary">판매완료</a>
						</div>
					</div>
					<div th:if="${productList.content.size() == 1}">
						<div></div>
					</div>
					<div>
						<h5>📜 최근 게시글</h5>

						<table class="table">
							<thead>
								<tr>
									<th>No.</th>
									<th>category</th>
									<th>title</th>
									<th>like</th>
									<th>date</th>
								</tr>
							</thead>
							<tbody>
								<div th:if="${productList.empty}">
									<tr>
										<td colspan="5">게시글이 없습니다.</td>
									</tr>
								</div>
								<tr th:each="board, iterStat: ${boardList}"
									th:if="${iterStat.index < 5}">
									<td th:text="${board.postNum}" />
									<td th:switch="${board.cmCategory.toString()}"><span
										th:case="NOTICE">🚨공지사항</span> <span th:case="LOST">😥잃어버렸어요
									</span> <span th:case="FOOD">🍔여기맛나요</span> <span th:case="TMI">🔉알려드려요</span>
										<span th:case="QNA">❓궁금해요</span> <span th:case="MEET">🙋‍♀우리만나요</span></td>
									<td><a style="text-decoration: none; color: #333"
										th:href="@{/board/getBoard(postNum=${board.postNum})}"
										th:text="${board.title}" />
									<td th:text="${board.great}">
									<td th:text="${board.regdate}">
								</tr>
							</tbody>
						</table>
						<br>
						<h5>🎭 받은 리뷰</h5>
						<table class="table">
							<thead>
								<tr>
									<th>No.</th>
									<th>Review</th>
									<th>Date</th>
									<th>Thumb</th>
								</tr>
							</thead>
							<tbody>
								<tr th:if="${reviewList.empty}">
									<td colspan="4">받은 리뷰가 없습니다.</td>
								</tr>

								<tr th:each="review: ${reviewList}">
									<td th:text="${review.reviewNo}">
									<td th:text="${review.content}">
									<td th:text="${review.regdate}">
									<td th:switch="${review.review.toString()}"><span
										th:case="UP">👍</span> <span th:case="DOWN">👎</span></td>
								</tr>
							</tbody>
						</table>

					</div>

				</div>
			</div>
		</div>
	</div>
</body>
</html>