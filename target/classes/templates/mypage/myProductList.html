<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>마이 페이지</title>
</head>
<body th:align="center">
	<div class="d-flex" id="wrapper">
		<!-- Page content wrapper-->
		<div id="page-content-wrapper">
			<div th:insert="~{fragment/header :: header}"></div>
			<!-- Page content-->
			<div class="container-fluid">
				
				<h4 class="mt-4">
					🧥 <span style="font-weight: bold" th:text="${currentUser.nickName}"></span>님의
					판매물폼
				</h4>
				<br>
				<div id="mypage-product-list">

					<div class="card" th:each="product: ${productList}"
						style="width: 250px; margin-bottom: 20px;">
						<a href="#">
							<div class="card-img-square">
								<a th:href="@{/product/getProduct(pNo=${product.pNo})}"><img
									th:src="@{${product.upload}}" class="card-img-top" alt="..."
									onerror="this.src='https://buly.kr/9BSKdMj'"
									style="width: 100%; height: 100%; object-fit: cover;"></a>
							</div>
							<div class="card-body" style="width: 250px;">
								<div
									style="width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; margin-bottom: 5px;">
									<span class="card-text" style="font-size: small;"
										th:switch="${product.pCategory.toString()}"> <span
										th:case="DIGI">디지털/가전</span> <span th:case="FURN">가구</span> <span
										th:case="CLOT">의류/잡화</span> <span th:case="BEAU">뷰티</span> <span
										th:case="ETC">기타</span>
									</span> <br>
									<p class="card-title"
										style="font-size: 12pt; font-weight: bold;"
										th:text="${product.title}"></p>
									<span class="card-text"
										th:text="${#numbers.formatInteger(product.price, 3, 'COMMA') + '원'}">원</span>
									<br> <small class="card-text"
										th:text="${#dates.format(product.regdate, 'yyyy-MM-dd (hh:mm)')}"></small><br>
								</div>
								<div th:align="center"
									th:if="${product.auction.toString() == 'N'}">
									<a th:if="${product.sold.toString() == 'N'}"
										class="btn btn-outline-primary">판매중</a> <a
										th:if="${product.sold.toString() == 'Y'}"
										class="btn btn-outline-secondary">거래완료</a>
								</div>
								<div th:align="center"
									th:if="${product.auction.toString() == 'Y'}">
									<a th:if="${product.sold.toString() == 'N'}"
										class="btn btn-outline-primary">경매중</a> <a
										th:if="${product.sold.toString() == 'Y'}"
										class="btn btn-outline-secondary">경매기간종료</a>
								</div>
							</div>
						</a>
					</div>

				</div>
				<hr>
<!-- 				<th:block th:align="center"
					th:each="page : ${#numbers.sequence(startPage, endPage)}">
					<a th:if="${page != nowPage}"
						th:href="@{/mypage/myProductList(id=${#authentication.principal.username}, page=${page - 1})}"
						th:text="${page}"> </a>

					<strong th:if="${page == nowPage}" th:text="${page}"
						style="color: red"></strong>
				</th:block> -->

				<nav>
					<ul class="pagination">
						<li th:each="page : ${#numbers.sequence(startPage, endPage)}" class="page-item">
						<a th:if="${page != nowPage}" class="page-link" th:href="@{/mypage/myProductList(id=${#authentication.principal.username}, page=${page - 1})}"
							th:text="${page}"></a>
						<strong class="page-link" th:if="${page == nowPage}" th:text="${page}" style="font-weight:bolder;"></strong>	
						</li>

					</ul>
				</nav>
				<br> <br> <br> <br> <br> <br>

			</div>
		</div>
	</div>
</body>
</html>